[application]

[web.app]
title = "freewili-updater"

[web.resource]
style = []
script = []

[web.resource.dev]
script = []

[desktop.app]
title = "FreeWili Updater"
identifier = "com.freewili.updater"

# Disable asset copying - use embedded assets only
[desktop.resource]
# asset_dir = "assets"  # Commented out to prevent copying

[desktop.resource.dev]
# asset_dir = "assets"  # Commented out to prevent copying

# Configure asset bundling
[bundler]
embedded_assets = true

[bundle]
identifier = "com.freewili.updater"
name = "FreeWili Updater"
publisher = "FreeWili"
icon = ["icons/icon.png", "icons/icon.ico", "icons/icon.icns"]

# Windows bundle configuration
[bundle.windows]
# Disable MSI build
tsp = false
webview_install_mode = "Skip"
allow_downgrades = true
icon_path = "icons/icon.ico"

# NSIS installer configuration
[bundle.windows.nsis]
# Set the installer icon (this is for the installer itself)
installer_icon = "icons/icon.ico"
install_mode = "CurrentUser"
# Languages for the installer
languages = ["English"]
# Whether to display the language selector dialog
display_language_selector = false
# Display name in Add/Remove Programs
display_name = "FreeWili Updater"

# Linux bundle configuration
[bundle.linux]
# Exclude wayland libraries - these should come from the host system
appimage_exclude = [
  "libwayland-*",
  "libEGL*",
  "libGL*",
  "libOpenGL*",
  "libGLX*",
  "libgbm*",
  "libdrm*",
  "libvulkan*",
  "libglvnd*"
]
